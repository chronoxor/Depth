<html imagetoolbarenabled="true" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns:st1="urn:schemas-microsoft-com:office:smarttags" xmlns="http://www.w3.org/TR/REC-html40"><head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="ProgId" content="Word.Document">
<meta name="Generator" content="Microsoft Word 11">
<meta name="Originator" content="Microsoft Word 11">
<link rel="File-List" href="http://www.extreme.indiana.edu/reflcpp/index_files/filelist.xml"><title>XCppRefl - C++ Reflection Library</title>

<o:smarttagtype namespaceuri="urn:schemas-microsoft-com:office:smarttags" name="City"></o:smarttagtype>
<o:smarttagtype namespaceuri="urn:schemas-microsoft-com:office:smarttags" name="place"></o:smarttagtype>
<o:smarttagtype namespaceuri="urn:schemas-microsoft-com:office:smarttags" name="PlaceType"></o:smarttagtype>
<o:smarttagtype namespaceuri="urn:schemas-microsoft-com:office:smarttags" name="PlaceName"></o:smarttagtype><!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Student</o:Author>
  <o:LastAuthor>Student</o:LastAuthor>
  <o:Revision>9</o:Revision>
  <o:TotalTime>30</o:TotalTime>
  <o:Created>2006-09-07T23:08:00Z</o:Created>
  <o:LastSaved>2006-09-09T17:16:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>630</o:Words>
  <o:Characters>3594</o:Characters>
  <o:Company>Student Technology Centers Indiana University</o:Company>
  <o:Lines>29</o:Lines>
  <o:Paragraphs>8</o:Paragraphs>
  <o:CharactersWithSpaces>4216</o:CharactersWithSpaces>
  <o:Version>11.6568</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:PunctuationKerning/>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->

<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h1
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:Arial;
	mso-font-kerning:16.0pt;}
h2
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:2;
	font-size:14.0pt;
	font-family:Arial;
	font-style:italic;}
h3
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:3;
	font-size:13.0pt;
	font-family:Arial;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style><!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="3074"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]--></head>

<body style="" link="blue" lang="EN-US" vlink="purple">

<div class="Section1">

<h1 style="text-align: center;" align="center">XCppRefl - C++ Reflection Library</h1>

<h2>Overview</h2>

<p class="MsoNormal"><o:p>&nbsp;</o:p></p>

<p class="MsoNormal">Reflection enables a program to dynamically examine, analyze,
and even modify itself. This facilitates adaptive behavior such as rebinding
calls to different functions at runtime to integrate newly discovered
components, or integrating flexible interpreted languages with compiled
languages such as C++ or Fortran. Currently, however, reflection is not
available in languages commonly used in high performance computing. This
implementation of C++ reflection uses code generation to add metadata. It is
fully compliant with the standard C++ specification.</p>

<p class="MsoNormal"><o:p>&nbsp;</o:p></p>

<h2>Basic Usage</h2>

<h3>Metaclasses</h3>

<p class="MsoNormal"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">ClassType</span>
is the metaclass used to represent user defined classes. Class information can
be obtained as follows using <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">ClassType</span>.</p>

<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">ClassType *ct =
ClassType::getClass(string("MyClass"));<o:p></o:p></span></p>

<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">string className = ct-&gt;name();</span></p>

<p class="MsoNormal"><o:p>&nbsp;</o:p></p>

<p class="MsoNormal">The actual target object (i.e., an instance of <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">MyClass</span>) can be
created as follows.</p>

<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">obj = ct-&gt;createInstance();<o:p></o:p></span></p>

<p class="MsoNormal"><o:p>&nbsp;</o:p></p>

<h3>Data Members</h3>

<p class="MsoNormal">Each data member in a class is represented by a <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">DataMember</span> object.
This object maintains information such as name and type. The member function, <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">ref()</span> returns a
reference to the represented object, allowing the user program to manipulate it
as if it had direct access to the data member. The data member can be accessed
as:</p>

<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">DataMember dm =
ct-&gt;getDataMember("f1");<o:p></o:p></span></p>

<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">dm.ref&lt;int&gt;(&amp;myClassObj) = 1234;</span></p>

<p class="MsoNormal">Here <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">f1</span>
is of type int and <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">classAObj</span>
is an instance of <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">MyClass</span>.
A reference to <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">myClassObj</span>
is required, since <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">DataMember
</span>only maintains meta-information about a particular data member in a
class and does not have access to any specific instance. For example, in the
code above, <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">dm</span>
will know that <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">f1</span>
is of type int, but it will not know the value of <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">f1</span> in the object <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">myClassObj</span>.</p>

<p class="MsoNormal"><o:p>&nbsp;</o:p></p>

<p class="MsoNormal">The library also has the class, <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">BoundDataMember</span>, which is bound to an object.
For this type, there is no need to pass <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">myClassObj</span> as an argument since <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">BoundDataMember</span> is
aware of the associated object. A significant characteristic of bound data
members is that they are now completely type-independent of the underlying
object. They can thus be passed around to code that is completely generic.</p>

<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">BoundDataMember bdm =
ct-&gt;getBoundDataMember(&amp;myClassObj, "f1");<o:p></o:p></span></p>

<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">// bdm is completely generic.<o:p></o:p></span></p>

<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">bdm.ref&lt;int&gt;() = 1234;</span></p>

<p class="MsoNormal"><o:p>&nbsp;</o:p></p>

<h3>Member Functions</h3>

<p class="MsoNormal">Analogous to data members, member functions are represented
by <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">MemberFunction</span>
classes. In addition to the name and return type of a member function, <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">MemberFunction</span>
provides the following interfaces.</p>

<p class="MsoNormal"><b style="">Arguments</b>. A list
of the arguments is maintained as a vector of generic <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">Type</span> objects. This enables the
argument types to also be fundamental types, pointers, or arrays in addition to
classes.</p>

<p class="MsoNormal"><b style="">Invoke</b>. Several
types of interfaces are provided for invoking a member function. The first type
requires the arguments to be passed individually along with a pointer to the</p>

<p class="MsoNormal">parent object of the member function. This type has several
overloaded <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">invoke() </span>methods,
each taking a different number of arguments.</p>

<p class="MsoNormal"><o:p>&nbsp;</o:p></p>

<p class="MsoNormal">Following is an example of invoking a member function.</p>

<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">MemberFunction mf =<o:p></o:p></span></p>

<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">ct-&gt;getMemberFunction("m1");<o:p></o:p></span></p>

<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">mf.invoke&lt;int&gt;(&amp;myClassObj);</span></p>

<p class="MsoNormal">The return type of <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">m1</span> is int and the member function does not take any
arguments. As in the case with data members, here also it is required to pass
the target object to invoke, since <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">MemberFunction</span> does not maintain information about the
target objects.</p>

<p class="MsoNormal"><o:p>&nbsp;</o:p></p>

<p class="MsoNormal">The second and third types take the arguments as a vector
and therefore needs only a single interface to be defined for each type. The
difference between the two types is that one of them takes an object pointer
while the other takes a generic “Pointer Holder” object. The later is required
in order to make the API more generic.</p>

<p class="MsoNormal"><o:p>&nbsp;</o:p></p>

<p class="MsoNormal">The analogous class to <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">BoundDataMember</span> for data members is <span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">BoundMemberFunction</span>.
Such an instance can be passed to generic code that is type-independent of the
underlying types, which is an important characteristic for building generic
adapters.</p>

<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">BoundMemberFunction bmf =<o:p></o:p></span></p>

<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">ct-&gt;getBoundMemberFunction(&amp;classAObj,
"m1");<o:p></o:p></span></p>

<p class="MsoNormal" style="margin-left: 0.5in;"><span style="font-size: 10pt; font-family: &quot;Courier New&quot;;">bmf.invoke&lt;int&gt;();</span></p>

<p class="MsoNormal"><o:p>&nbsp;</o:p></p>

<h2>Download</h2>

<p class="MsoNormal">The reflection library can be downloaded from <a href="http://www.extreme.indiana.edu/reflcpp/reflcpp-0.1.tar.gz">here</a>.</p>

<p class="MsoNormal"><o:p>&nbsp;</o:p></p>

<h2>Contact</h2>

<p class="MsoNormal">Tharaka Devadithya (<st1:place w:st="on"><st1:placename w:st="on">Indiana</st1:placename> <st1:placetype w:st="on">University</st1:placetype></st1:place>)</p>

<p class="MsoNormal">Kenneth Chiu (SUNY <st1:city w:st="on"><st1:place w:st="on">Binghamton</st1:place></st1:city>)</p>

<p class="MsoNormal">Wei Lu (<st1:place w:st="on"><st1:placename w:st="on">Indiana</st1:placename>
 <st1:placetype w:st="on">University</st1:placetype></st1:place>)</p>

<p class="MsoNormal"><o:p>&nbsp;</o:p></p>

</div>

</body></html>